# Commands 技术指南

## 概述

基于 Cursor 官方文档的 Commands 功能用法和最佳实践。

## 设计目标（官方定义）

- 创建**可复用的工作流**，在聊天输入框中使用简单的 `/` 前缀触发
- 有助于在团队内规范流程并提升常见任务的效率

## 能力边界（官方定义）

### 技术特性

- **纯 Markdown 文件**：存放在 `.cursor/commands/` 或 `~/.cursor/commands/`
- **支持参数**：命令名之后的内容会包含在模型提示中
- **自动发现**：Cursor 自动扫描命令目录

### 适用场景（官方建议）

- ✅ **单一用途、可重复的操作**（如生成变更日志、格式化等）
- ✅ **代码审查清单**
- ✅ **安全审计流程**
- ✅ **创建 PR 的标准流程**
- ✅ **新功能设置模板**

### 不适合的场景（官方建议）

- ❌ **需要上下文隔离的复杂任务**（应用 Subagents）
- ❌ **复杂的业务逻辑**（应用 Skills）
- ❌ **系统级约束规则**（应用 Rules）

### 限制（官方定义）

- 单一用途，不需要单独的上下文窗口
- 任务可以一次性完成
- 不需要并行执行

## 选择指南（基于能力边界）

### Command vs Skill

**选择 Command**：

- 单一用途、可重复的操作
- 需要简单的用户入口（`/` 前缀）
- 不需要复杂的执行逻辑

**选择 Skill**：

- 需要详细的工作流指导
- 需要专业知识和工作流
- 需要 Agent 自动匹配激活

### Command vs Rule

**选择 Command**：

- 需要用户触发的工作流
- 单一用途的操作

**选择 Rule**：

- 需要系统级约束（持久化、可重用）
- 需要作用于提示级别
- 需要 Always Apply（全局硬约束）

### Command vs Subagent

**选择 Command**：

- 简单、可重复的操作
- 不需要独立上下文窗口

**选择 Subagent**：

- 需要独立上下文窗口
- 需要长时间运行
- 需要并行执行

## 最佳实践（官方建议）

1. **保持简洁**：命令文件应该简洁明了
2. **单一职责**：每个命令只负责一个明确的用途
3. **文档清晰**：命令用途和使用方式应该清晰

## 参考

- Cursor Commands 官方文档：`https://cursor.com/cn/docs/context/commands`
- Cursor 能力分析：`docs/05-development/research/cursor-capabilities-analysis.md`
