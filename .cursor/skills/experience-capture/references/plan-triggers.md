# Plan 阶段触发场景

本文档定义 plan 阶段的经验候选触发场景。

## 触发场景列表

| 触发场景     | 描述                               | 典型信号                           |
| ------------ | ---------------------------------- | ---------------------------------- |
| **任务调整** | 用户调整任务拆解（合并/拆分/重排） | "这两个合成一个"、"这个要拆开"     |
| **依赖变更** | 用户调整任务依赖关系               | "不需要先做 A"、"B 要等 C 完成"    |
| **技术选型** | 用户选择/拒绝某个技术方案          | "用 React"、"不用 Redux"           |
| **测试策略** | 用户调整测试方式（单测/集成/手工） | "这个手工验就行"、"必须有单测"     |
| **任务增删** | 用户新增/删除任务项                | "还需要加一个..."、"这个不用做"    |
| **行为调整** | 用户调整可测试行为定义             | "这个行为不对"、"还要测这种情况"   |
| **风险识别** | 识别到 req 中未显式写出的风险      | "这里可能有坑"、"要注意 X"         |
| **约束明确** | 用户明确技术约束或依赖选择         | "必须用这个版本"、"不能引入新依赖" |
| **交付调整** | 用户调整交付物清单                 | "不用改文档"、"要加个配置文件"     |
| **验证变更** | 用户调整验证方式或标准             | "用这种方式验证"、"这个指标要达到" |

## 典型信号示例

- **任务调整**：用户说"这两个任务可以合并成一个"
- **依赖变更**：用户说"不需要先做 A，直接做 B 就行"
- **技术选型**：用户在多个技术方案中选择，并说明理由
- **测试策略**：用户明确某个功能"手工验证就行"或"必须有单元测试"
- **风险识别**：AI 识别到潜在风险，用户确认或提出规避方案
- **约束明确**：用户明确技术约束，如"必须使用 React 18"、"不能引入新依赖"
