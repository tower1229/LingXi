# Build 阶段触发场景

本文档定义 build 阶段的经验候选触发场景。

## 触发场景列表

| 触发场景     | 描述                               | 典型信号                           |
| ------------ | ---------------------------------- | ---------------------------------- |
| **实现纠正** | 用户纠正实现方向/方式/细节         | "不要这样写"、"改成那样"           |
| **方案切换** | 实现中发现原方案不可行，切换方案   | "这个方案不行，换成..."            |
| **根因定位** | 排查问题找到 root cause            | "原来是因为..."、"根本原因是..."   |
| **测试修复** | 测试失败暴露问题并修复             | 测试红→绿 + 修复原因               |
| **契约确认** | 确认/修订接口契约或数据结构        | "接口改成这样"、"字段要加个 X"     |
| **性能问题** | 发现性能/内存/兼容性问题并解决     | "太慢了"、"内存泄漏"、"不兼容"     |
| **依赖问题** | 发现依赖库问题，更换或绕过         | "这个库有 bug"、"换成另一个"       |
| **边界处理** | 确认/修订边界条件处理方式          | "空值怎么处理"、"异常怎么抛"       |
| **规范确认** | 用户确认代码风格/命名/结构规范     | "要用这种命名"、"放在这个目录"     |
| **隐含假设** | 发现并明确代码中的隐含假设         | "原来假设了 X"、"前提条件是 Y"     |

## 典型信号示例

- **实现纠正**：用户纠正代码实现方式，并说明原因
- **方案切换**：实现中发现原方案不可行，切换到新方案
- **根因定位**：排查问题时找到根本原因，并总结教训
- **测试修复**：测试失败后修复 bug，记录修复原因和验证方式
- **性能问题**：发现性能瓶颈或内存泄漏，并解决
- **依赖问题**：发现依赖库的 bug 或兼容性问题，更换或绕过
- **边界处理**：确认边界条件的处理方式，如空值、异常等
- **规范确认**：用户确认代码规范，如命名、目录结构等
- **隐含假设**：发现代码中的隐含假设，并明确说明
