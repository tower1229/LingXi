---
name: audit
description: 审查 Plan 的技术细节、可行性与风险（输出到对话，不落盘），支持多次循环，产出明确的推进判据与待澄清项。
---

# Audit

## When to Use

- `/flow REQ-xxx` 在 plan 完成后、进入 work 前反复审查

## Outputs

- 审查报告：仅输出到对话（不保存文档）

## Instructions

### 0) Experience Index（强制）

先调用 skill `experience-index`，输出与该需求相关的历史坑/风险提醒。

### 1) 审查维度

- 技术风险（实现方案可行性、技术依赖、架构影响、性能风险）
- 任务完整性（任务拆解是否完整、遗漏步骤、边界条件）
- 验证可靠性（验证方式是否可复现、覆盖是否充分）
- 执行风险（时间估算、协作依赖、潜在阻塞点）

### 2) 阻塞项处理（Fail Fast）

若发现 Blockers，必须提示用户选择：

- 立即回到 plan 修正（推荐）
- 或继续输出审查报告但标注"不可进入 work"

### 3) 输出结构（建议）

```text
# Plan 审查报告：<REQ-xxx>

## 1. 技术风险评估
- 实现方案风险：高/中/低（原因）
- 架构影响风险：高/中/低（原因）
- 依赖风险：高/中/低（原因）

## 2. Plan 完整性分析
- Blockers（必须修正）
- High / Medium / Low（建议项）

## 3. 任务清单审查
- 遗漏的任务/步骤
- 顺序或依赖问题
- 验证方式建议

## 4. 总体评估
- 可执行性评分：1-5
- 是否可以开始 work：是/否（给出判据）

## 5. 下一步建议（人工闸门）
A) 再 audit 一次
B) 回到 plan 修正
C) 进入 work（需你确认）
```

