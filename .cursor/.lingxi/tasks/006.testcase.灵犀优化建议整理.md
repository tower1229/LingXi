# 006.testcase.灵犀优化建议整理

| 属性     | 值                            |
| -------- | ----------------------------- |
| 关联需求 | 006.task.灵犀优化建议整理.md   |
| 关联规划 | 006.plan.灵犀优化建议整理.md |
| 创建日期 | 2025-02-23                    |

---

## 1. 测试范围

### 1.1 覆盖的功能需求

| 需求编号 | 需求描述             | 测试用例编号     |
| -------- | -------------------- | ---------------- |
| F1       | 先探索再修改         | TC-001（手工）   |
| F2       | 可验证目标与 review 闭环 | TC-002（手工） |
| F3       | 防需求膨胀           | TC-003（手工）   |
| F4       | 从计划重来           | TC-004（手工）   |
| F5       | 半静默可验证性       | TC-005（手工）   |
| F6       | 对话与上下文建议     | TC-006（手工）   |
| F7       | 子代理 vs Skill 选型 | TC-007（手工）   |

### 1.2 不覆盖的范围

- 自动化单元/集成测试（本任务无代码与可执行逻辑）
- 灵犀插件运行时行为（仅验证文档与约定）

---

## 2. 手工验证用例

### TC-001: F1 先探索再修改

- **验证点**：build-executor SKILL 中存在「先探索再修改」的步骤或原则描述；无硬编码规则，符合 AI Native。
- **步骤**：打开 `.cursor/skills/build-executor/SKILL.md`，检索与「探索」「理解」「再实现」相关的表述。
- **预期**：存在明确约定（对不熟悉模块先语义搜索或读关键文件再改代码），且为自然语言描述。

---

### TC-002: F2 可验证目标与 review 闭环

- **验证点**：review 相关文档中体现「可验证目标」前置或下一步建议包含可验证动作（如运行测试/类型检查）。
- **步骤**：打开 `review-executor/SKILL.md` 或 `workflow-output-principles.md`，查看 /review 小节与下一步建议。
- **预期**：存在审查前执行测试/类型检查/lint 的约定或说明；下一步可尝试中包含可验证类动作选项。

---

### TC-003: F3 防需求膨胀

- **验证点**：task/vet 相关描述或模板中存在「建议先 /plan」的引导。
- **步骤**：打开 `task-executor/SKILL.md` 或 `vet-executor/SKILL.md`，查看产出或审查建议相关描述。
- **预期**：当需求跨多模块/多文件时，有提示「建议先执行 /plan 拆解后再 /build」或等价表述；或下一步建议中区分简单→直接 build、复杂→建议 plan。

---

### TC-004: F4 从计划重来

- **验证点**：workflow-output-principles 中 /build 或 /review 的下一步建议包含「从计划重来」类选项。
- **步骤**：打开 `workflow-output-principles.md`，查看 /build、/review 的「下一步可尝试」或示例。
- **预期**：存在「若实现已偏离 req/plan，建议撤销→修订 plan 或 req→重新 /build」或等价选项。

---

### TC-005: F5 半静默可验证性

- **验证点**：lingxi-memory 或 memory-system 文档中存在可验证性维度的可靠性判定说明。
- **步骤**：打开 `.cursor/agents/lingxi-memory.md` 或 `memory-system.md`，查看高/低可靠性判定指引。
- **预期**：存在「可被后续客观验证→高可靠」「需主观解释或易歧义→低可靠」或等价自然语言规则/示例。

---

### TC-006: F6 对话与上下文建议

- **验证点**：文档中存在「对话与上下文」使用建议小节。
- **步骤**：在 about-lingxi 的 references（如 cursor-learn-courses-summary、memory-system）或 README 中查找「对话」「上下文」「新开对话」「引用历史对话」等关键词。
- **预期**：存在小节或段落说明：新任务/犯错时可新开对话；延续旧任务可引用旧对话；记忆检索跨会话生效。

---

### TC-007: F7 子代理 vs Skill 选型

- **验证点**：component-guides 或 cursor-learn-courses-summary 中存在子代理与 Skill 选型及成本说明。
- **步骤**：打开 `component-guides.md` 或 `cursor-learn-courses-summary.md` 的灵犀对照/Subagents 部分。
- **预期**：存在说明：子代理适合独立上下文、多步、需隔离的任务；可一次性完成优先用 Skill；避免不必要子代理以控制 token。

---

## 3. 验收检查清单（与 req 对齐）

- [ ] TC-001～TC-007 全部通过（各文档存在对应小节/表述）。
- [ ] 各文档修改与现有静默成功、AI Native、称心如意原则无冲突。
- [ ] 无新增硬编码规则或与 workflow-output-principles 矛盾的下一步集合。
