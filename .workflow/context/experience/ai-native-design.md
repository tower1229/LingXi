# AI Native 设计原则 - 依赖大模型自然语言理解能力

## 触发条件（When to load）

- 设计 workflow 功能、命令或 Skill 时
- 需要处理用户的自然语言输入时
- 考虑是否要添加规则匹配逻辑（如关键词检测、模式识别）时
- 发现设计中出现复杂的 if-else 规则匹配逻辑时

## 问题现象（Symptom）

- 设计文档中出现大量关键词列表、正则表达式或规则匹配逻辑
- 需要维护"模式识别规则"来判断用户意图
- 担心大模型无法理解用户的自然语言输入
- 倾向于用硬编码规则来"帮助"大模型理解

## 根因（Root cause）

- 低估了大模型的自然语言理解能力
- 习惯于传统编程思维（规则匹配、条件判断）
- 担心大模型判断不准确，想通过规则增加确定性
- 没有意识到 AI Native 设计与传统设计的根本区别

## 解决方案（Fix）

**核心原则**：尽量依赖大模型的自然语言理解能力，而非硬编码规则匹配。

**具体做法**：
1. **用自然语言描述**：用清晰的自然语言描述处理策略和期望行为
2. **让大模型智能判断**：让大模型根据上下文和意图自动选择合适的处理方式
3. **避免硬编码规则**：避免关键词列表、正则表达式、复杂的 if-else 逻辑
4. **提供示例而非规则**：用示例场景说明期望行为，而非枚举所有可能的规则

**示例（remember 命令改造）**：
- ❌ **传统方式**：定义关键词列表判断模式（如"刚才/刚才的" → 历史提取模式）
- ✅ **AI Native 方式**：描述"根据用户输入的自然语言意图，自动选择合适的处理方式"

## 校验方式（How to verify）

1. **检查设计文档**：查看是否有复杂的规则匹配逻辑
2. **评估可替代性**：评估规则匹配是否可以用自然语言描述替代
3. **测试理解能力**：用多种表达方式测试大模型是否能正确理解意图
4. **对比实现复杂度**：对比规则匹配方案与自然语言描述方案的复杂度

## 关联指针（Pointers）

- `.cursor/commands/remember.md`：改造示例（移除模式识别规则，改为智能判断）
- 对话历史：remember 命令改造的可行性评估（2025-01-14）
- 设计理念：AI Native - 充分利用大模型的自然语言理解能力

## Decision Shape（判断结构）

- **Decision being made**: 在设计 workflow 功能时，是依赖硬编码规则匹配，还是依赖大模型的自然语言理解能力
- **Alternatives rejected**: 
  - 硬编码关键词列表和规则匹配（如"刚才/刚才的"→历史提取模式）
  - 复杂的模式识别逻辑（如正则表达式、分支判断）
  - 枚举所有可能的输入场景并分别处理
- **Discriminating signal**: 
  - 大模型的自然语言理解能力足够强，能理解多种表达方式
  - 规则匹配需要持续维护，且永远无法覆盖所有场景
  - 自然语言描述更简洁、更灵活、更易理解

## Judgment Capsule（认知蒸馏）

- **I used to think**: 需要用硬编码规则帮助大模型理解用户意图，规则越详细越准确
- **Now I believe**: 大模型的自然语言理解能力很强，应该用清晰的自然语言描述期望行为，让大模型智能判断
- **Because the decisive variable is**: AI Native 设计的核心是充分利用大模型的理解能力，而非用传统编程思维限制它
