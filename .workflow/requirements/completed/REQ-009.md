# REQ-009: 强化 req skill 中候选提取步骤的执行要求

| 属性     | 值       |
| -------- | -------- |
| 版本     | 1.0      |
| 创建日期 | 2025-01-27 |
| 需求类型 | 简单功能 |
| 复杂度   | 简单     |

---

## 1. 概述

### 1.1 背景

在 REQ-008 的执行过程中，发现 req 阶段结束后进入 plan 阶段时，遗漏了 REQ 文档候选提取步骤。虽然 req skill 的步骤 8 中提到了"执行候选提取后静默推进"，步骤 9 也明确说明了候选提取的要求，但由于两个步骤分离、缺少明确的执行顺序标记，导致模型在执行时容易忽略这个中间步骤。

### 1.2 问题描述

1. **步骤关联不够紧密**：步骤 8 的检查逻辑提到"执行候选提取后静默推进"，但没有明确指向步骤 9
2. **执行要求不够强制**：步骤 9 的描述中有"静默处理"、"不打断推进"等表述，可能被理解为"自动/可选"
3. **缺少明确的执行顺序**：两个步骤分离，模型容易聚焦主流程（推进），忽略中间步骤（提取）

### 1.3 解决方案概述

采用方案 A：在步骤 8 中明确引用步骤 9，并强调必须执行。具体改进：
1. 在步骤 8 的检查逻辑中，明确引用"必须执行步骤 9（REQ 文档候选提取）"
2. 添加重要提示：判据满足后，必须执行步骤 9，即使没有明显高信号片段也要执行（可输出空或说明无提取内容）
3. 保持步骤 9 的独立章节结构，但通过步骤 8 的明确引用建立强关联

---

## 2. 目标

| 编号 | 目标 | 优先级   |
| ---- | ---- | -------- |
| G1   | 强化步骤 8 和步骤 9 的关联，明确执行顺序 | 必须实现 |
| G2   | 明确候选提取步骤的强制执行要求 | 必须实现 |
| G3   | 提升模型执行候选提取步骤的可靠性 | 必须实现 |

---

## 3. 验收检查清单

- [ ] 步骤 8 的检查逻辑中明确引用"必须执行步骤 9（REQ 文档候选提取）"
- [ ] 步骤 8 中添加重要提示：判据满足后必须执行步骤 9，即使没有明显高信号片段也要执行
- [ ] 步骤 9 保持独立章节结构，内容不变
- [ ] 修改后的设计能够提升模型执行候选提取步骤的可靠性
